---
import Layout from "../../layouts/Layout.astro";

import { allFilms } from "../../../backend/backend.mjs";
import Hero from "../../components/Hero.astro";
const films = await allFilms();
console.log(films);
---

<Layout>
  <Hero />
  <div class="grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-4 text-sm">
    {films.map((film) => (
      <div class="p-4 m-4 bg-gray-200 flex flex-col rounded-xl shadow-lg border border-gray-300">
        <ul class="flex flex-col items-center justify-between h-full">
          <li>
            <img
              src={film.imgUrl}
              alt={`Affiche du film ${film.titre}`}
              class="w-full h-auto mb-3 rounded-xl"
            />
          </li>
          <li class="text-center mb-2 text-black font-semibold">{film.titre}</li>
          <li class="text-center text-gray-700">{film.realisateur}</li>
          <li>
            <a
              href={`/films/${film.id}`}
              class="block text-center text-black rounded-lg border-2 border-yellow-400 bg-white px-4 py-2 mt-4 font-bold hover:bg-yellow-400"
            >
              DÃ©couvrir le film
            </a>
          </li>
        </ul>
      </div>
    ))}
  </div>
</Layout>
